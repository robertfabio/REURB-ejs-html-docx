<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REURB - Declaração de Interesse</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Regularização Fundiária Urbana (REURB)</h1>
            <p>Preencha os dados abaixo para gerar sua declaração de interesse</p>
        </header>

        <div class="form-actions" style="text-align: center; margin: 15px 0;">
            <button type="button" id="autoFillBtn" style="background: #27ae60; padding: 10px 20px; font-size: 14px;">Preencher Dados de Teste</button>
        </div>

        <form id="reurbForm" action="/generate-docx" method="POST">
            <div class="form-section">
                <h2>Dados do Requerente</h2>
                
                <div class="form-group">
                    <label for="nome">Nome Completo *</label>
                    <input type="text" id="nome" name="nome" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="cpf">CPF *</label>
                        <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="cep">CEP *</label>
                        <input type="text" id="cep" name="cep" placeholder="00000-000" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="endereco">Endereço Completo *</label>
                    <input type="text" id="endereco" name="endereco" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="municipio">Município *</label>
                        <input type="text" id="municipio" name="municipio" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="estado">Estado *</label>
                        <input type="text" id="estado" name="estado" placeholder="Ex: SP" required>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h2>Dados do Imóvel</h2>
                
                <div class="form-group">
                    <label for="logradouro_imovel">Logradouro *</label>
                    <input type="text" id="logradouro_imovel" name="logradouro_imovel" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="numero_imovel">Número *</label>
                        <input type="text" id="numero_imovel" name="numero_imovel" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="bairro_imovel">Bairro *</label>
                        <input type="text" id="bairro_imovel" name="bairro_imovel" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="municipio_imovel">Município *</label>
                        <input type="text" id="municipio_imovel" name="municipio_imovel" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="estado_imovel">Estado *</label>
                        <input type="text" id="estado_imovel" name="estado_imovel" placeholder="Ex: SP" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="area_total">Área Total (m²) *</label>
                        <input type="number" id="area_total" name="area_total" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="situacao_posse">Situação de Posse *</label>
                        <select id="situacao_posse" name="situacao_posse" required>
                            <option value="">Selecione</option>
                            <option value="Proprietário">Proprietário</option>
                            <option value="Possuidor">Possuidor</option>
                            <option value="Ocupante">Ocupante</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="ocupacao_atual">Ocupação Atual *</label>
                    <input type="text" id="ocupacao_atual" name="ocupacao_atual" required>
                </div>
                
                <div class="form-group">
                    <label for="descricao_imovel">Descrição do Imóvel *</label>
                    <textarea id="descricao_imovel" name="descricao_imovel" rows="3" required></textarea>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="submit">Gerar Declaração em DOCX</button>
            </div>
        </form>
    </div>

    <script>
        // Preenchimento automático para testes
        document.getElementById('autoFillBtn').addEventListener('click', function() {
            document.getElementById('nome').value = 'Maria Silva Santos';
            document.getElementById('cpf').value = '123.456.789-00';
            document.getElementById('cep').value = '12345-678';
            document.getElementById('endereco').value = 'Rua das Flores, 123 - Casa B';
            document.getElementById('municipio').value = 'São Paulo';
            document.getElementById('estado').value = 'SP';
            document.getElementById('logradouro_imovel').value = 'Rua das Acácias';
            document.getElementById('numero_imovel').value = '456';
            document.getElementById('bairro_imovel').value = 'Jardim Botânico';
            document.getElementById('municipio_imovel').value = 'São Paulo';
            document.getElementById('estado_imovel').value = 'SP';
            document.getElementById('area_total').value = '120.50';
            document.getElementById('situacao_posse').value = 'Possuidor';
            document.getElementById('ocupacao_atual').value = 'Residência unifamiliar';
            document.getElementById('descricao_imovel').value = 'Terreno irregular com construção residencial de 2 dormitórios, cozinha, sala e banheiro. Construção iniciada em 2010 e concluída em 2012.';
        });

        // Máscara de CPF
        document.getElementById('cpf').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.substring(0, 11);
            
            if (value.length > 9) {
                value = value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
            } else if (value.length > 6) {
                value = value.replace(/(\d{3})(\d{3})(\d{1,3})/, '$1.$2.$3');
            } else if (value.length > 3) {
                value = value.replace(/(\d{3})(\d{1,3})/, '$1.$2');
            }
            
            e.target.value = value;
        });
        
        // Máscara de CEP
        document.getElementById('cep').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 8) value = value.substring(0, 8);
            
            if (value.length > 5) {
                value = value.replace(/(\d{5})(\d{1,3})/, '$1-$2');
            }
            
            e.target.value = value;
        });
    </script>
</body>
</html>